<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 300" width="800" height="300">
  <defs>
    <style>
      .key {
        fill: #ffffff;
        stroke: #333333;
        stroke-width: 1.5;
        rx: 4;
      }
      .key-text {
        font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
        font-size: 10px;
        font-weight: 600;
        fill: #1a1a1a;
        text-anchor: middle;
        dominant-baseline: middle;
      }
      .layer-title {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        font-size: 18px;
        font-weight: 700;
        fill: #4caf50;
      }
      .layer-subtitle {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        font-size: 12px;
        fill: #666666;
      }
      .encoder {
        fill: #e8f5e8;
        stroke: #4caf50;
        stroke-width: 2;
        stroke-dasharray: 3,2;
      }
      .encoder-text {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        font-size: 8px;
        fill: #4caf50;
        text-anchor: middle;
      }
      .effect-key {
        fill: #e3f2fd;
        stroke: #2196f3;
        stroke-width: 1;
      }
      .brightness-key {
        fill: #fff3e0;
        stroke: #ff9800;
        stroke-width: 1;
      }
      .hue-key {
        fill: #f3e5f5;
        stroke: #9c27b0;
        stroke-width: 1;
      }
      .sat-key {
        fill: #ffebee;
        stroke: #e91e63;
        stroke-width: 1;
      }
      .transparent-key {
        fill: #f5f5f5;
        stroke: #999;
        stroke-width: 1;
        stroke-dasharray: 2,2;
      }
    </style>
  </defs>

  <!-- Title -->
  <text x="10" y="25" class="layer-title">UNDERGLOW LAYER (4)</text>
  <text x="10" y="42" class="layer-subtitle">RGB Lighting Controls (Momentary from CONFIGURATION)</text>

  <!-- Row 1: None×10, Effect←→, None×3 -->
  <rect x="10" y="60" width="36" height="36" class="transparent-key"/>
  <text x="28" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="52" y="60" width="36" height="36" class="transparent-key"/>
  <text x="70" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="94" y="60" width="36" height="36" class="transparent-key"/>
  <text x="112" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="136" y="60" width="36" height="36" class="transparent-key"/>
  <text x="154" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="178" y="60" width="36" height="36" class="transparent-key"/>
  <text x="196" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="220" y="60" width="36" height="36" class="transparent-key"/>
  <text x="238" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="262" y="60" width="36" height="36" class="transparent-key"/>
  <text x="280" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="304" y="60" width="36" height="36" class="transparent-key"/>
  <text x="322" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="346" y="60" width="36" height="36" class="transparent-key"/>
  <text x="364" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="388" y="60" width="36" height="36" class="transparent-key"/>
  <text x="406" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="430" y="60" width="36" height="36" class="transparent-key"/>
  <text x="448" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="472" y="60" width="36" height="36" class="effect-key"/>
  <text x="490" y="78" class="key-text">EFF←</text>

  <rect x="514" y="60" width="36" height="36" class="effect-key"/>
  <text x="532" y="78" class="key-text">EFF→</text>

  <rect x="556" y="60" width="36" height="36" class="transparent-key"/>
  <text x="574" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="598" y="60" width="36" height="36" class="transparent-key"/>
  <text x="616" y="78" class="key-text" style="fill: #999;">—</text>

  <!-- Row 2: None×10, Brightness↓↑, Toggle -->
  <rect x="10" y="102" width="54" height="36" class="transparent-key"/>
  <text x="37" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="70" y="102" width="36" height="36" class="transparent-key"/>
  <text x="88" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="112" y="102" width="36" height="36" class="transparent-key"/>
  <text x="130" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="154" y="102" width="36" height="36" class="transparent-key"/>
  <text x="172" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="196" y="102" width="36" height="36" class="transparent-key"/>
  <text x="214" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="238" y="102" width="36" height="36" class="transparent-key"/>
  <text x="256" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="280" y="102" width="36" height="36" class="transparent-key"/>
  <text x="298" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="322" y="102" width="36" height="36" class="transparent-key"/>
  <text x="340" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="364" y="102" width="36" height="36" class="transparent-key"/>
  <text x="382" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="406" y="102" width="36" height="36" class="transparent-key"/>
  <text x="424" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="448" y="102" width="36" height="36" class="brightness-key"/>
  <text x="466" y="120" class="key-text">BRI-</text>

  <rect x="490" y="102" width="36" height="36" class="brightness-key"/>
  <text x="508" y="120" class="key-text">BRI+</text>

  <rect x="532" y="102" width="36" height="36" class="brightness-key"/>
  <text x="550" y="120" class="key-text">TOG</text>

  <rect x="574" y="102" width="60" height="36" class="transparent-key"/>
  <text x="604" y="120" class="key-text" style="fill: #999;">—</text>

  <!-- Row 3: None×11, Hue↓↑, None×2 -->
  <rect x="10" y="144" width="54" height="36" class="transparent-key"/>
  <text x="37" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="70" y="144" width="36" height="36" class="transparent-key"/>
  <text x="88" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="112" y="144" width="36" height="36" class="transparent-key"/>
  <text x="130" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="154" y="144" width="36" height="36" class="transparent-key"/>
  <text x="172" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="196" y="144" width="36" height="36" class="transparent-key"/>
  <text x="214" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="238" y="144" width="36" height="36" class="transparent-key"/>
  <text x="256" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="280" y="144" width="36" height="36" class="transparent-key"/>
  <text x="298" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="322" y="144" width="36" height="36" class="transparent-key"/>
  <text x="340" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="364" y="144" width="36" height="36" class="transparent-key"/>
  <text x="382" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="406" y="144" width="36" height="36" class="transparent-key"/>
  <text x="424" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="448" y="144" width="36" height="36" class="hue-key"/>
  <text x="466" y="162" class="key-text">HUE-</text>

  <rect x="490" y="144" width="36" height="36" class="hue-key"/>
  <text x="508" y="162" class="key-text">HUE+</text>

  <rect x="532" y="144" width="36" height="36" class="transparent-key"/>
  <text x="550" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="574" y="144" width="60" height="36" class="transparent-key"/>
  <text x="604" y="162" class="key-text" style="fill: #999;">—</text>

  <!-- Row 4: None×13, Saturation↓↑, None×2 -->
  <rect x="10" y="186" width="54" height="36" class="transparent-key"/>
  <text x="37" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="70" y="186" width="54" height="36" class="transparent-key"/>
  <text x="97" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="130" y="186" width="36" height="36" class="transparent-key"/>
  <text x="148" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="172" y="186" width="36" height="36" class="transparent-key"/>
  <text x="190" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="214" y="186" width="36" height="36" class="transparent-key"/>
  <text x="232" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="256" y="186" width="36" height="36" class="transparent-key"/>
  <text x="274" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="298" y="186" width="36" height="36" class="transparent-key"/>
  <text x="316" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="340" y="186" width="36" height="36" class="transparent-key"/>
  <text x="358" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="382" y="186" width="36" height="36" class="transparent-key"/>
  <text x="400" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="424" y="186" width="36" height="36" class="transparent-key"/>
  <text x="442" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="466" y="186" width="36" height="36" class="sat-key"/>
  <text x="484" y="204" class="key-text">SAT-</text>

  <rect x="508" y="186" width="36" height="36" class="sat-key"/>
  <text x="526" y="204" class="key-text">SAT+</text>

  <rect x="550" y="186" width="54" height="36" class="transparent-key"/>
  <text x="577" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="610" y="186" width="54" height="36" class="transparent-key"/>
  <text x="637" y="204" class="key-text" style="fill: #999;">—</text>

  <!-- Row 5: All Transparent -->
  <rect x="10" y="228" width="48" height="36" class="transparent-key"/>
  <text x="34" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="62" y="228" width="48" height="36" class="transparent-key"/>
  <text x="86" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="114" y="228" width="48" height="36" class="transparent-key"/>
  <text x="138" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="166" y="228" width="54" height="36" class="transparent-key"/>
  <text x="193" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="224" y="228" width="54" height="36" class="transparent-key"/>
  <text x="251" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="282" y="228" width="54" height="36" class="transparent-key"/>
  <text x="309" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="340" y="228" width="54" height="36" class="transparent-key"/>
  <text x="367" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="398" y="228" width="48" height="36" class="transparent-key"/>
  <text x="422" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="450" y="228" width="54" height="36" class="transparent-key"/>
  <text x="477" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="508" y="228" width="48" height="36" class="transparent-key"/>
  <text x="532" y="246" class="key-text" style="fill: #999;">—</text>

  <!-- RGB Visualization -->
  <g transform="translate(680, 130)">
    <rect x="-30" y="-20" width="60" height="40" fill="url(#rainbow)" stroke="#333" stroke-width="2" rx="5"/>
    <text x="0" y="5" style="font-size: 10px; font-weight: bold; fill: white; text-anchor: middle;">RGB</text>
  </g>

  <!-- Rainbow gradient definition -->
  <defs>
    <linearGradient id="rainbow" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ff0000" />
      <stop offset="16.66%" style="stop-color:#ff8800" />
      <stop offset="33.33%" style="stop-color:#ffff00" />
      <stop offset="50%" style="stop-color:#00ff00" />
      <stop offset="66.66%" style="stop-color:#0088ff" />
      <stop offset="83.33%" style="stop-color:#0000ff" />
      <stop offset="100%" style="stop-color:#8800ff" />
    </linearGradient>
  </defs>

  <!-- Legend -->
  <g transform="translate(10, 280)">
    <rect x="0" y="0" width="12" height="12" class="effect-key"/>
    <text x="16" y="10" style="font-size: 10px; fill: #666;">Effect control</text>

    <rect x="110" y="0" width="12" height="12" class="brightness-key"/>
    <text x="126" y="10" style="font-size: 10px; fill: #666;">Brightness</text>

    <rect x="210" y="0" width="12" height="12" class="hue-key"/>
    <text x="226" y="10" style="font-size: 10px; fill: #666;">Hue control</text>

    <rect x="310" y="0" width="12" height="12" class="sat-key"/>
    <text x="326" y="10" style="font-size: 10px; fill: #666;">Saturation</text>

    <rect x="420" y="0" width="12" height="12" class="transparent-key"/>
    <text x="436" y="10" style="font-size: 10px; fill: #666;">Transparent (pass-through)</text>
  </g>
</svg>