<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 300" width="800" height="300">
  <defs>
    <style>
      .key {
        fill: #ffffff;
        stroke: #333333;
        stroke-width: 1.5;
        rx: 4;
      }
      .key-text {
        font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
        font-size: 9px;
        font-weight: 600;
        fill: #1a1a1a;
        text-anchor: middle;
        dominant-baseline: middle;
      }
      .layer-title {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        font-size: 18px;
        font-weight: 700;
        fill: #9c27b0;
      }
      .layer-subtitle {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        font-size: 12px;
        fill: #666666;
      }
      .encoder {
        fill: #f3e5f5;
        stroke: #9c27b0;
        stroke-width: 2;
        stroke-dasharray: 3,2;
      }
      .encoder-text {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        font-size: 8px;
        fill: #9c27b0;
        text-anchor: middle;
      }
      .bt-key {
        fill: #e3f2fd;
        stroke: #2196f3;
        stroke-width: 1;
      }
      .mouse-key {
        fill: #e8f5e8;
        stroke: #4caf50;
        stroke-width: 1;
      }
      .media-key {
        fill: #fff3e0;
        stroke: #ff9800;
        stroke-width: 1;
      }
      .system-key {
        fill: #ffebee;
        stroke: #f44336;
        stroke-width: 1;
      }
      .layer-key {
        fill: #f3e5f5;
        stroke: #9c27b0;
        stroke-width: 1;
      }
      .transparent-key {
        fill: #f5f5f5;
        stroke: #999;
        stroke-width: 1;
        stroke-dasharray: 2,2;
      }
    </style>
  </defs>

  <!-- Title -->
  <text x="10" y="25" class="layer-title">CONFIGURATION LAYER (3)</text>
  <text x="10" y="42" class="layer-subtitle">System Controls, Bluetooth & Mouse Management</text>

  <!-- Row 1: Underglow, BT0-4, None×4, Mute, Vol-, Vol+, BT Clear×2 -->
  <rect x="10" y="60" width="36" height="36" class="layer-key"/>
  <text x="28" y="78" class="key-text">RGB</text>

  <rect x="52" y="60" width="36" height="36" class="bt-key"/>
  <text x="70" y="78" class="key-text">BT0</text>

  <rect x="94" y="60" width="36" height="36" class="bt-key"/>
  <text x="112" y="78" class="key-text">BT1</text>

  <rect x="136" y="60" width="36" height="36" class="bt-key"/>
  <text x="154" y="78" class="key-text">BT2</text>

  <rect x="178" y="60" width="36" height="36" class="bt-key"/>
  <text x="196" y="78" class="key-text">BT3</text>

  <rect x="220" y="60" width="36" height="36" class="bt-key"/>
  <text x="238" y="78" class="key-text">BT4</text>

  <rect x="262" y="60" width="36" height="36" class="transparent-key"/>
  <text x="280" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="304" y="60" width="36" height="36" class="transparent-key"/>
  <text x="322" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="346" y="60" width="36" height="36" class="transparent-key"/>
  <text x="364" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="388" y="60" width="36" height="36" class="transparent-key"/>
  <text x="406" y="78" class="key-text" style="fill: #999;">—</text>

  <rect x="430" y="60" width="36" height="36" class="media-key"/>
  <text x="448" y="78" class="key-text">MUTE</text>

  <rect x="472" y="60" width="36" height="36" class="media-key"/>
  <text x="490" y="78" class="key-text">VOL-</text>

  <rect x="514" y="60" width="36" height="36" class="media-key"/>
  <text x="532" y="78" class="key-text">VOL+</text>

  <rect x="556" y="60" width="36" height="36" class="bt-key"/>
  <text x="574" y="78" class="key-text">CLR</text>

  <rect x="598" y="60" width="36" height="36" class="bt-key"/>
  <text x="616" y="78" class="key-text">CLR</text>

  <!-- Row 2: None, MB1, Mouse↑, MB2, None×3, USB, None×2 -->
  <rect x="10" y="102" width="54" height="36" class="transparent-key"/>
  <text x="37" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="70" y="102" width="36" height="36" class="mouse-key"/>
  <text x="88" y="120" class="key-text">MB1</text>

  <rect x="112" y="102" width="36" height="36" class="mouse-key"/>
  <text x="130" y="120" class="key-text">M↑</text>

  <rect x="154" y="102" width="36" height="36" class="mouse-key"/>
  <text x="172" y="120" class="key-text">MB2</text>

  <rect x="196" y="102" width="36" height="36" class="transparent-key"/>
  <text x="214" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="238" y="102" width="36" height="36" class="transparent-key"/>
  <text x="256" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="280" y="102" width="36" height="36" class="transparent-key"/>
  <text x="298" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="322" y="102" width="36" height="36" class="system-key"/>
  <text x="340" y="120" class="key-text">USB</text>

  <rect x="364" y="102" width="36" height="36" class="transparent-key"/>
  <text x="382" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="406" y="102" width="36" height="36" class="transparent-key"/>
  <text x="424" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="448" y="102" width="36" height="36" class="transparent-key"/>
  <text x="466" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="490" y="102" width="36" height="36" class="transparent-key"/>
  <text x="508" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="532" y="102" width="36" height="36" class="transparent-key"/>
  <text x="550" y="120" class="key-text" style="fill: #999;">—</text>

  <rect x="574" y="102" width="60" height="36" class="transparent-key"/>
  <text x="604" y="120" class="key-text" style="fill: #999;">—</text>

  <!-- Row 3: Studio, Mouse←↓→, None×3, Next/Prev, None×3, Bootloader -->
  <rect x="10" y="144" width="54" height="36" class="system-key"/>
  <text x="37" y="162" class="key-text">STU</text>

  <rect x="70" y="144" width="36" height="36" class="mouse-key"/>
  <text x="88" y="162" class="key-text">M←</text>

  <rect x="112" y="144" width="36" height="36" class="mouse-key"/>
  <text x="130" y="162" class="key-text">M↓</text>

  <rect x="154" y="144" width="36" height="36" class="mouse-key"/>
  <text x="172" y="162" class="key-text">M→</text>

  <rect x="196" y="144" width="36" height="36" class="transparent-key"/>
  <text x="214" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="238" y="144" width="36" height="36" class="transparent-key"/>
  <text x="256" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="280" y="144" width="36" height="36" class="transparent-key"/>
  <text x="298" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="322" y="102" width="36" height="36" class="media-key"/>
  <text x="340" y="162" class="key-text">NEXT</text>

  <rect x="364" y="102" width="36" height="36" class="media-key"/>
  <text x="382" y="162" class="key-text">PREV</text>

  <rect x="406" y="144" width="36" height="36" class="transparent-key"/>
  <text x="424" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="448" y="144" width="36" height="36" class="transparent-key"/>
  <text x="466" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="490" y="144" width="36" height="36" class="transparent-key"/>
  <text x="508" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="532" y="144" width="36" height="36" class="transparent-key"/>
  <text x="550" y="162" class="key-text" style="fill: #999;">—</text>

  <rect x="574" y="144" width="60" height="36" class="system-key"/>
  <text x="604" y="162" class="key-text">BOOT</text>

  <!-- Row 4: None×3, BLE, None×3, Brightness±, None×3 -->
  <rect x="10" y="186" width="54" height="36" class="transparent-key"/>
  <text x="37" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="70" y="186" width="54" height="36" class="transparent-key"/>
  <text x="97" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="130" y="186" width="36" height="36" class="transparent-key"/>
  <text x="148" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="172" y="186" width="36" height="36" class="transparent-key"/>
  <text x="190" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="214" y="186" width="36" height="36" class="transparent-key"/>
  <text x="232" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="256" y="186" width="36" height="36" class="transparent-key"/>
  <text x="274" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="298" y="186" width="36" height="36" class="system-key"/>
  <text x="316" y="204" class="key-text">BLE</text>

  <rect x="340" y="186" width="36" height="36" class="transparent-key"/>
  <text x="358" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="382" y="186" width="36" height="36" class="transparent-key"/>
  <text x="400" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="424" y="186" width="36" height="36" class="media-key"/>
  <text x="442" y="204" class="key-text">BRI-</text>

  <rect x="466" y="186" width="36" height="36" class="media-key"/>
  <text x="484" y="204" class="key-text">BRI+</text>

  <rect x="508" y="186" width="36" height="36" class="transparent-key"/>
  <text x="526" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="550" y="186" width="54" height="36" class="transparent-key"/>
  <text x="577" y="204" class="key-text" style="fill: #999;">—</text>

  <rect x="610" y="186" width="54" height="36" class="transparent-key"/>
  <text x="637" y="204" class="key-text" style="fill: #999;">—</text>

  <!-- Row 5: None, Alternative Toggle, None×7, Reset -->
  <rect x="10" y="228" width="48" height="36" class="transparent-key"/>
  <text x="34" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="62" y="228" width="48" height="36" class="layer-key"/>
  <text x="86" y="246" class="key-text">ALT</text>

  <rect x="114" y="228" width="48" height="36" class="transparent-key"/>
  <text x="138" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="166" y="228" width="54" height="36" class="transparent-key"/>
  <text x="193" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="224" y="228" width="54" height="36" class="transparent-key"/>
  <text x="251" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="282" y="228" width="54" height="36" class="transparent-key"/>
  <text x="309" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="340" y="228" width="54" height="36" class="transparent-key"/>
  <text x="367" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="398" y="228" width="48" height="36" class="transparent-key"/>
  <text x="422" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="450" y="228" width="54" height="36" class="transparent-key"/>
  <text x="477" y="246" class="key-text" style="fill: #999;">—</text>

  <rect x="508" y="228" width="48" height="36" class="system-key"/>
  <text x="532" y="246" class="key-text">RST</text>

  <!-- Encoder indicator -->
  <circle cx="680" cy="150" r="25" class="encoder"/>
  <text x="680" y="150" class="encoder-text">ENC</text>
  <text x="680" y="160" class="encoder-text" style="font-size: 7px;">⏯</text>
  <text x="680" y="120" class="encoder-text" style="font-size: 7px;">VOL↑</text>
  <text x="680" y="180" class="encoder-text" style="font-size: 7px;">VOL↓</text>

  <!-- Legend -->
  <g transform="translate(10, 280)">
    <rect x="0" y="0" width="12" height="12" class="bt-key"/>
    <text x="16" y="10" style="font-size: 10px; fill: #666;">Bluetooth controls</text>

    <rect x="120" y="0" width="12" height="12" class="mouse-key"/>
    <text x="136" y="10" style="font-size: 10px; fill: #666;">Mouse controls</text>

    <rect x="240" y="0" width="12" height="12" class="media-key"/>
    <text x="256" y="10" style="font-size: 10px; fill: #666;">Media/Brightness</text>

    <rect x="370" y="0" width="12" height="12" class="system-key"/>
    <text x="386" y="10" style="font-size: 10px; fill: #666;">System functions</text>

    <rect x="490" y="0" width="12" height="12" class="layer-key"/>
    <text x="506" y="10" style="font-size: 10px; fill: #666;">Layer controls</text>
  </g>
</svg>